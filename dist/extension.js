(()=>{"use strict";var t={802:(t,o,e)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CommandManager=void 0;const n=e(549);o.CommandManager=class{constructor(){this.commands=new Map}dispose(){for(const t of this.commands.values())t.dispose();this.commands.clear()}register(...t){for(const o of t)this.registerCommand(o.id,o.execute,o)}registerCommand(t,o,e){this.commands.has(t)||this.commands.set(t,n.commands.registerCommand(t,o,e))}}},223:function(t,o,e){var n=this&&this.__awaiter||function(t,o,e,n){return new(e||(e=Promise))((function(r,i){function a(t){try{d(n.next(t))}catch(t){i(t)}}function s(t){try{d(n.throw(t))}catch(t){i(t)}}function d(t){var o;t.done?r(t.value):(o=t.value,o instanceof e?o:new e((function(t){t(o)}))).then(a,s)}d((n=n.apply(t,o||[])).next())}))};Object.defineProperty(o,"__esModule",{value:!0}),o.SortImportsAndFormatAndSaveAllCommand=o.SortImportsAndFormatAllCommand=o.SortImportsAndSaveAllCommand=o.SortImportsAllCommand=o.FormatAndSaveAllCommand=o.FormatAllCommand=void 0;const r=e(549),i=e(473),a=e(622);let s=[],d=[],c=[],m=[];function l(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}function u(t,o,e,a,u,p){return n(this,void 0,void 0,(function*(){const v=r.workspace.getConfiguration("appa.format");s=v.get("includeFileExtensions",[]),d=v.get("includeFileNames",[]),c=v.get("excludeFileNames",[]),m=v.get("excludeFolders",[]),r.window.withProgress({title:l(e)+" all eligible files in workspace...",location:r.ProgressLocation.Notification},(()=>n(this,void 0,void 0,(function*(){const n=r.workspace.workspaceFolders;if(!n)return;let s=0;for(const r of n)s+=(yield f(r.uri,t,o,e,a,u,p));const d=l(a)+" "+s+" files.";i.getLogger().log(d),r.window.showInformationMessage(d)}))))}))}function f(t,o,e,l,u,p,v){return n(this,void 0,void 0,(function*(){const h=yield r.workspace.fs.stat(t),g=a.basename(t.fsPath),A=a.extname(t.fsPath),y=g+A;let w=0;if((h.type&r.FileType.Directory)===r.FileType.Directory){if(m.includes(g))return 0;const n=yield r.workspace.fs.readDirectory(t);for(const i of n){const n=i[0],a=r.Uri.joinPath(t,n);w+=(yield f(a,o,e,l,u,p,v))}}else if((h.type&r.FileType.File)===r.FileType.File){if(""===A)return 0;if(!d.includes(y)){if(!s.includes(A))return 0;if(c.includes(y))return 0}(yield function(t,o,e,a,s){var d;return n(this,void 0,void 0,(function*(){try{return yield r.window.showTextDocument(t),o.forEach((t=>n(this,void 0,void 0,(function*(){yield r.commands.executeCommand(t)})))),a&&(yield null===(d=r.window.activeTextEditor)||void 0===d?void 0:d.document.save()),a&&s&&(yield r.commands.executeCommand("workbench.action.closeActiveEditor")),!0}catch(o){i.getLogger().log("Unable to "+e.toLowerCase()+" ["+t.fsPath+"]: "+o)}return!1}))}(t,o,e,p,v))&&(w+=1)}return w}))}o.FormatAllCommand=class{constructor(){this.id="appa.format.formatAll"}execute(){return n(this,void 0,void 0,(function*(){yield u(["editor.action.formatDocument"],"format","formatting","formatted",!1,!1)}))}},o.FormatAndSaveAllCommand=class{constructor(){this.id="appa.format.formatAndSaveAll"}execute(){return n(this,void 0,void 0,(function*(){yield u(["editor.action.formatDocument"],"format and save","formatting and saving","formatted and saved",!0,!0)}))}},o.SortImportsAllCommand=class{constructor(){this.id="appa.format.sortImportsAll"}execute(){return n(this,void 0,void 0,(function*(){yield u(["python.sortImports"],"sort imports","sorting imports of","sorted imports of",!1,!1)}))}},o.SortImportsAndSaveAllCommand=class{constructor(){this.id="appa.format.sortImportsAndSaveAll"}execute(){return n(this,void 0,void 0,(function*(){yield u(["python.sortImports"],"sort imports and save ","sorting imports and saving","sorted imports and saved",!0,!0)}))}},o.SortImportsAndFormatAllCommand=class{constructor(){this.id="appa.format.sortImportsAndFormatAll"}execute(){return n(this,void 0,void 0,(function*(){yield u(["python.sortImports","editor.action.formatDocument"],"sort imports and format","sorting imports and formatting","sorted imports and formatted",!1,!1)}))}},o.SortImportsAndFormatAndSaveAllCommand=class{constructor(){this.id="appa.format.sortImportsAndFormatAndSaveAll"}execute(){return n(this,void 0,void 0,(function*(){yield u(["python.sortImports","editor.action.formatDocument"],"sort imports, format and save","sorting imports, formatting, and saving","sorted imports, formatted, and saved",!0,!0)}))}}},885:function(t,o,e){var n=this&&this.__createBinding||(Object.create?function(t,o,e,n){void 0===n&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return o[e]}})}:function(t,o,e,n){void 0===n&&(n=e),t[n]=o[e]}),r=this&&this.__exportStar||function(t,o){for(var e in t)"default"===e||Object.prototype.hasOwnProperty.call(o,e)||n(o,t,e)};Object.defineProperty(o,"__esModule",{value:!0}),r(e(223),o)},523:(t,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.context=o.setContext=void 0,o.setContext=function(t){o.context=t}},473:(t,o,e)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getLogger=o.Logger=void 0;const n=e(549);class r{constructor(t){this.channel=n.window.createOutputChannel(t)}log(t){this.channel.appendLine(t.toString())}}let i;o.Logger=r,o.getLogger=function(){return i||(i=new r("Extension Manager")),i}},622:t=>{t.exports=require("path")},549:t=>{t.exports=require("vscode")}},o={};function e(n){var r=o[n];if(void 0!==r)return r.exports;var i=o[n]={exports:{}};return t[n].call(i.exports,i,i.exports,e),i.exports}var n={};(()=>{var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const o=e(549),r=e(802),i=e(885),a=e(523);t.activate=function(t){const e='Extension "appa" is now active';console.log(e),o.window.showInformationMessage(e),a.setContext(t),t.subscriptions.push(function(){const t=new r.CommandManager;return t.register(new i.FormatAllCommand,new i.FormatAndSaveAllCommand,new i.SortImportsAllCommand,new i.SortImportsAndSaveAllCommand,new i.SortImportsAndFormatAllCommand,new i.SortImportsAndFormatAndSaveAllCommand),t}())},t.deactivate=function(){}})(),module.exports=n})();